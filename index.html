<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Bilgi Evreni - Tam Çalışan Site</title>
<style>
  /* Reset */
  *, *::before, *::after {
    margin:0; padding:0; box-sizing: border-box;
  }
  body {
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f5f9f7;
    color: #222;
    min-height: 100vh;
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  body.dark {
    background-color: #121212;
    color: #eee;
  }

  /* HEADER */
  header {
    position: fixed;
    top: 0; left: 0; right: 0;
    height: 60px;
    background: #1a3d2e;
    color: #2ecc71;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 1.5rem;
    font-weight: 900;
    font-size: 1.5rem;
    box-shadow: 0 2px 10px rgba(0,0,0,0.4);
    z-index: 9999;
  }
  /* Hamburger */
  #hamburger {
    cursor: pointer;
    width: 30px;
    height: 22px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
  #hamburger span {
    height: 4px;
    background: #2ecc71;
    border-radius: 2px;
    transition: all 0.3s ease;
  }
  /* Hamburger X toggle */
  #hamburger.open span:nth-child(1) {
    transform: rotate(45deg) translate(5px, 5px);
  }
  #hamburger.open span:nth-child(2) {
    opacity: 0;
  }
  #hamburger.open span:nth-child(3) {
    transform: rotate(-45deg) translate(5px, -5px);
  }

  /* Side Nav */
  nav {
    position: fixed;
    top: 60px;
    left: 0;
    width: 280px;
    height: calc(100vh - 60px);
    background: #163a24;
    padding: 1rem 1.2rem;
    overflow-y: auto;
    transform: translateX(-300px);
    transition: transform 0.4s ease;
    box-shadow: 2px 0 10px rgba(0,0,0,0.7);
    z-index: 9998;
  }
  nav.open {
    transform: translateX(0);
  }
  nav::-webkit-scrollbar {
    width: 7px;
  }
  nav::-webkit-scrollbar-thumb {
    background: #2ecc71;
    border-radius: 10px;
  }

  /* Close button */
  #close-nav-btn {
    background: none;
    border: none;
    color: #2ecc71;
    font-size: 2.5rem;
    cursor: pointer;
    float: right;
    margin-bottom: 1rem;
  }
  #close-nav-btn:hover {
    color: #27ae60;
  }

  /* Accordion categories */
  .category {
    background: #1e462b;
    margin-bottom: 1rem;
    border-radius: 10px;
    box-shadow: 0 3px 6px rgba(0,0,0,0.6);
  }
  .category button.header-btn {
    width: 100%;
    background: none;
    border: none;
    color: #a9d6a5;
    font-weight: 700;
    font-size: 1.1rem;
    padding: 1rem 1.2rem;
    text-align: left;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-radius: 10px;
    user-select: none;
  }
  .category button.header-btn:hover,
  .category button.header-btn:focus {
    background: #27ae60;
    color: #121212;
    outline: none;
  }
  .category button.header-btn svg {
    width: 20px;
    height: 20px;
    transition: transform 0.3s ease;
    fill: currentColor;
  }
  .category button.header-btn[aria-expanded="true"] svg {
    transform: rotate(180deg);
  }

  .category-content {
    max-height: 0;
    overflow: hidden;
    padding: 0 1.2rem;
    background: #2b6b37;
    color: #d8e8c5;
    transition: max-height 0.4s ease, padding 0.4s ease;
    border-radius: 0 0 10px 10px;
    user-select: text;
  }
  .category-content.open {
    padding: 1rem 1.2rem;
    max-height: 800px; /* yeterli yüksekliği ver */
  }
  .category-content p {
    margin-bottom: 0.8rem;
    line-height: 1.6;
  }

  /* Main content */
  main {
    margin-left: 280px;
    padding: 80px 2rem 2rem 2rem;
    transition: margin-left 0.4s ease;
  }
  main.shrink {
    margin-left: 0;
  }

  /* Dark mode toggle */
  #dark-mode-toggle {
    cursor: pointer;
    font-size: 1.6rem;
    background: none;
    border: 2px solid #2ecc71;
    color: #2ecc71;
    padding: 6px 14px;
    border-radius: 30px;
    transition: all 0.3s ease;
    user-select: none;
  }
  #dark-mode-toggle:hover,
  #dark-mode-toggle:focus {
    background: #2ecc71;
    color: #121212;
    outline: none;
  }

  /* Responsive */
  @media (max-width: 900px) {
    nav {
      width: 220px;
      transform: translateX(-280px);
    }
    nav.open {
      transform: translateX(0);
    }
    main {
      margin-left: 0;
      padding: 80px 1rem 1rem 1rem;
    }
  }

</style>
</head>
<body>

<header>
  <div id="hamburger" aria-label="Menüyü aç/kapat" role="button" tabindex="0" aria-expanded="false">
    <span></span>
    <span></span>
    <span></span>
  </div>
  <div>Bilgi Evreni</div>
  <button id="dark-mode-toggle" aria-pressed="false" aria-label="Gece modunu aç veya kapat">🌙</button>
</header>

<nav aria-label="Kategori Menüsü" id="side-nav" aria-hidden="true">
  <button id="close-nav-btn" aria-label="Menüyü kapat">&times;</button>

  <div class="category">
    <button class="header-btn" aria-expanded="false" aria-controls="cat1-content" id="cat1-btn">
      Tarih
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 10l5 5 5-5H7z"/></svg>
    </button>
    <div id="cat1-content" class="category-content" role="region" aria-labelledby="cat1-btn" tabindex="0">
      <p>İstanbul'un fethi 29 Mayıs 1453'te gerçekleşmiştir. Osmanlılar, Bizans'ın son direnişini kırarak Orta Çağ'ı kapatıp Yeni Çağ'ı açtı.</p>
      <p>Rönesans ve Aydınlanma dönemleri modern dünyanın temel taşlarıdır.</p>
      <p>Tarih, insanlığın kolektif hafızasıdır ve kültürleri şekillendirir.</p>
    </div>
  </div>

  <div class="category">
    <button class="header-btn" aria-expanded="false" aria-controls="cat2-content" id="cat2-btn">
      Bilim
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 10l5 5 5-5H7z"/></svg>
    </button>
    <div id="cat2-content" class="category-content" role="region" aria-labelledby="cat2-btn" tabindex="0">
      <p>Bilim, evreni anlamak için sistematik araştırmadır.</p>
      <p>Fizik, kimya, biyoloji ve matematik temel bilim dallarıdır.</p>
      <p>Newton’un hareket yasaları ve Einstein’ın görelilik teorisi bilimin devrimlerindendir.</p>
    </div>
  </div>

  <div class="category">
    <button class="header-btn" aria-expanded="false" aria-controls="cat3-content" id="cat3-btn">
      Futbol
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 10l5 5 5-5H7z"/></svg>
    </button>
    <div id="cat3-content" class="category-content" role="region" aria-labelledby="cat3-btn" tabindex="0">
      <p>Futbol dünyanın en çok takip edilen sporudur.</p>
      <p>Dünya Kupası dört yılda bir yapılır ve futbolun zirvesidir.</p>
      <p>Messi, Ronaldo, Pele gibi isimler futbolun efsanelerindendir.</p>
    </div>
  </div>

</nav>

<main id="main-content">
  <h2>Bilgi Evreni'ne Hoşgeldiniz!</h2>
  <p>Sol üst köşedeki menü ikonuna tıklayarak kategorilere ulaşabilir, kategori başlıklarına tıklayarak içerikleri görebilirsiniz.</p>
  <p>Gece modu butonuyla ekran rengini değiştirebilirsiniz.</p>
</main>

<script>
  // Hamburger ve menu toggle
  const hamburger = document.getElementById('hamburger');
  const nav = document.getElementById('side-nav');
  const closeNavBtn = document.getElementById('close-nav-btn');
  const mainContent = document.getElementById('main-content');
  
  function openNav() {
    nav.classList.add('open');
    hamburger.classList.add('open');
    hamburger.setAttribute('aria-expanded', 'true');
    nav.setAttribute('aria-hidden', 'false');
    if(window.innerWidth > 900) {
      mainContent.classList.remove('shrink');
    }
  }
  function closeNav() {
    nav.classList.remove('open');
    hamburger.classList.remove('open');
    hamburger.setAttribute('aria-expanded', 'false');
    nav.setAttribute('aria-hidden', 'true');
    if(window.innerWidth > 900) {
      mainContent.classList.remove('shrink');
    }
  }
  hamburger.addEventListener('click', () => {
    if(nav.classList.contains('open')) {
      closeNav();
    } else {
      openNav();
    }
  });
  closeNavBtn.addEventListener('click', closeNav);

  // Accordion açma/kapatma
  const headers = document.querySelectorAll('.category button.header-btn');
  headers.forEach(header => {
    header.addEventListener('click', () => {
      const expanded = header.getAttribute('aria-expanded') === 'true';
      // Hepsini kapat
      headers.forEach(h => {
        h.setAttribute('aria-expanded', 'false');
        document.getElementById(h.getAttribute('aria-controls')).classList.remove('open');
      });
      // Eğer kapalıysa aç
      if (!expanded) {
        header.setAttribute('aria-expanded', 'true');
        document.getElementById(header.getAttribute('aria-controls')).classList.add('open');
      }
    });
  });

  // Gece modu
  const darkToggle = document.getElementById('dark-mode-toggle');
  darkToggle.addEventListener('click', () => {
    const isDark = document.body.classList.toggle('dark');
    darkToggle.setAttribute('aria-pressed', isDark);
    darkToggle.textContent = isDark ? '☀️' : '🌙';
  });

  // Klavye ile hamburger aç kapa (accessibility)
  hamburger.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      hamburger.click();
    }
  });
</script>

</body>
</html>
